---
import SupportPageLayout from "../../pageLayouts/SupportPageLayout.astro";
import { getCollection, getEntry } from "astro:content";

const theFinca = getEntry("theFinca", "de");
const treeNursery = getEntry("treeNursery", "de");

const projectsInGeneral = await getCollection("projects", ({ slug }) => {
  return slug !== "plant-and-protect";
});
const plantATreeProjects = await getCollection("plantAndProtect");

import * as suportIndexContent from "../non_collection_content/de/support.md";

const allProjects = [...projectsInGeneral, ...plantATreeProjects];

const [supportPageData] = await getCollection("supportPage");
---

<SupportPageLayout
  supportPageData={supportPageData}
  projects={allProjects}
  indexContent={suportIndexContent}
/>
